@page "/"
@page "/vehicles"

<PageTitle>Vehicle Management UI</PageTitle>

<div class="page-header">
    <h1>Vehicle Management</h1>
    <p>Manage your vehicle inventory with ease</p>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <VehicleForm 
                Vehicle="@newVehicle"
                OnValidSubmit="@HandleValidSubmit"
                IsSubmitting="@isSubmitting"
                ErrorMessage="@errorMessage"
                SuccessMessage="@successMessage" />
        </div>

        <div class="col-lg-12 mt-4">
            <div class="custom-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h3 class="mb-0">
                        Vehicle Inventory
                        @if (pagedResult != null)
                        {
                            <span class="badge-primary">@pagedResult.TotalCount</span>
                        }
                    </h3>
                    
                    <PageSizeSelector 
                        PageSize="@pageSize" 
                        OnPageSizeChanged="@OnPageSizeChanged" />
                </div>

                <VehicleTable 
                    Vehicles="@pagedResult?.Items" 
                    IsLoading="@(pagedResult == null)" />

                @if (pagedResult != null && pagedResult.Items.Any())
                {
                    <Pagination 
                        CurrentPage="@currentPage"
                        PageSize="@pageSize"
                        TotalCount="@pagedResult.TotalCount"
                        TotalPages="@pagedResult.TotalPages"
                        HasPrevious="@pagedResult.HasPrevious"
                        HasNext="@pagedResult.HasNext"
                        OnPageChanged="@GoToPage" />
                }
            </div>
        </div>
    </div>
</div>